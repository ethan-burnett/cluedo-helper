(function(e){function t(t){for(var r,o,n=t[0],l=t[1],c=t[2],u=0,d=[];u<n.length;u++)o=n[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&d.push(s[o][0]),s[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);h&&h(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,n=1;n<a.length;n++){var l=a[n];0!==s[l]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},s={app:0},i=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/cluedx-helper/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var h=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var r=a("85ec"),s=a.n(r);s.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("h1",[e._v("Cluedx")]),e.isSetUp?a("b-container",{staticStyle:{"max-width":"100%"}},[a("b-row",[a("b-col",{attrs:{md:"12",lg:"7"}},[a("Table",{attrs:{players:e.players,table:e.table}})],1),a("b-col",{attrs:{md:"12",lg:"5"}},[a("b-card",{style:"min-width: 35em; background-color: "+e.players[e.activePlayerPosition-1].character.colour,attrs:{"border-variant":"secondary"}},[a("b-row",[a("b-col",{attrs:{cols:"1","align-self":"start"}},[a("h2",[a("b-badge",{attrs:{pill:"",variant:"warning"}},[e._v(e._s(e.activePlayerPosition))])],1)]),a("b-col",{attrs:{"align-self":"start"}},[a("h2",[e._v(e._s(e.activePlayerName)+"'s turn")])])],1),a("hr",{staticStyle:{"border-color":"inherit"}}),a("b-row",[a("b-col",[a("b-button-group",{attrs:{vertical:""}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.viewRumoursModal",modifiers:{viewRumoursModal:!0}}],attrs:{id:"openViewRumoursModalBtn",pill:"",variant:"info"}},[e._v(" View Rumours ")]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.addRumourModal",modifiers:{addRumourModal:!0}}],attrs:{id:"openAddRumourModalBtn",pill:"",variant:"info"}},[e._v(" Add Rumour ")]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.assignCardsModal",modifiers:{assignCardsModal:!0}}],attrs:{id:"openAssignCardsModalBtn",pill:"",variant:"info"}},[e._v(" Assign Cards ")])],1)],1),a("b-col",{attrs:{"align-self":"center"}},[a("b-button",{attrs:{id:"nextPlayerBtn",variant:"info",pill:"",size:"lg",disabled:!e.isBtnActive},on:{click:e.nextPlayer}},[e._v("Next "),a("b-icon-arrow-right")],1)],1)],1)],1),a("hr",{staticStyle:{"border-color":"inherit"}}),a("view-players",{attrs:{players:e.players,cardsPerPerson:e.cardsPerPerson}}),a("add-rumour-modal",{attrs:{table:e.table,players:e.players},on:{"add-rumour":e.addRumour}}),a("b-modal",{attrs:{id:"viewRumoursModal",centered:"",size:"lg",scrollable:"","ok-only":"","ok-title":"Back","ok-variant":"secondary",title:"Past rumours"}},e._l(e.rumours,(function(t){return a("section",{key:t.id},[a("b-card",{staticStyle:{"background-color":"whitesmoke"},attrs:{"border-variant":"secondary"}},[a("view-rumour",{attrs:{table:e.table,players:e.players,rumour:t}})],1),a("br")],1)})),0),a("assign-cards-modal",{attrs:{table:e.table,players:e.players},on:{"assign-card":e.assignCard}})],1)],1)],1):a("b-container",[a("label",[e._v("Add the players, including yourself")]),a("br"),6!==e.numberOfPlayers?a("b-button",{attrs:{block:"",size:"lg",variant:"info",pill:""},on:{click:e.addPlayer}},[a("b-icon-plus-circle")],1):e._e(),a("br"),a("b-card",{staticStyle:{"background-color":"whitesmoke"},attrs:{"border-variant":"secondary"}},[a("b-form-row",e._l(e.players,(function(t){return a("b-col",{key:t.position,attrs:{sm:"12",md:"6",lg:"2"}},[a("b-card",{style:"background-color: "+t.character.colour,attrs:{"border-variant":"secondary"}},[a("b-row",[a("b-col",{attrs:{"align-self":"start"}},[a("h2",[a("b-badge",{attrs:{pill:"",variant:"warning"}},[e._v(e._s(t.position))])],1)]),a("b-col",{attrs:{"align-self":"end"}},[a("h3",[e.numberOfPlayers>2?a("b-button",{attrs:{variant:"danger",pill:""},on:{click:function(a){return e.removePlayer(t.position)}}},[a("b-icon-x-circle")],1):e._e()],1)])],1),a("b-form-input",{attrs:{id:"name-input"+t.position,trim:"",placeholder:"Enter name"},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"player.name"}}),a("b-form-select",{attrs:{options:e.characters},model:{value:t.character,callback:function(a){e.$set(t,"character",a)},expression:"player.character"}})],1)],1)})),1)],1),a("br"),a("b-button",{attrs:{size:"lg",block:"",pill:"",variant:"info",id:"start-btn"},on:{click:e.setUp}},[e._v("Start")])],1)],1)},i=[],o=(a("99af"),a("4de4"),a("a434"),a("b0c0"),a("2dd8"),[{value:{name:"Green",colour:"rgba(39,155,8,0.61)"},text:"Green"},{value:{name:"Mustard",colour:"rgba(255,255,0,0.5)"},text:"Mustard"},{value:{name:"Peacock",colour:"rgba(0,0,207,0.65)"},text:"Peacock"},{value:{name:"Plum",colour:"rgba(145,17,255,0.85)"},text:"Plum"},{value:{name:"Scarlet",colour:"rgba(163,3,0,0.78)"},text:"Scarlet"},{value:{name:"White",colour:"rgb(255,255,255)"},text:"White"}]),n=[{value:{name:"Wrench"},text:"Wrench"},{value:{name:"Candlestick"},text:"Candlestick"},{value:{name:"Dagger"},text:"Dagger"},{value:{name:"Pistol"},text:"Pistol"},{value:{name:"Lead Pipe"},text:"Lead Pipe"},{value:{name:"Rope"},text:"Rope"}],l=[{value:{name:"Bathroom"},text:"Bathroom"},{value:{name:"Dining Room"},text:"Dining Room"},{value:{name:"Games Room"},text:"Games Room"},{value:{name:"Bedroom"},text:"Bedroom"},{value:{name:"Living Room"},text:"Living Room"},{value:{name:"Kitchen"},text:"Kitchen"},{value:{name:"Courtyard"},text:"Courtyard"}],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",{staticStyle:{"min-width":"35em","background-color":"whitesmoke","margin-left":"0px","margin-right":"0"},attrs:{"border-variant":"secondary"}},[a("b-row",[a("b-col",{staticStyle:{"text-align":"start"},attrs:{cols:"3"}},[a("h4",[a("strong",[e._v("Who")])])]),e._l(e.players,(function(t){return a("b-col",{key:t.character.name,attrs:{cols:"1"}},[a("div",[e._v(e._s(t.name.split("",1).join("")))])])}))],2),e._l(e.table.who,(function(t){return a("b-row",{key:t.id},[a("b-col",{staticStyle:{"text-align":"start"},attrs:{cols:"3"}},[e._v(e._s(t.name))]),e._l(t.players,(function(t){return a("b-col",{key:t.pos,attrs:{cols:"1"}},[" "===t.value?a("div",[a("b-icon-square")],1):"/"===t.value?a("div",[a("b-icon-square-fill",{attrs:{variant:"danger"}})],1):"O"===t.value?a("div",[a("b-icon-square-fill",{attrs:{variant:"success"}})],1):e._e()])})),t.isTheOne?a("b-col",{attrs:{cols:"3"}},[a("b-icon-star-fill",{attrs:{variant:"warning"}})],1):a("b-col",{attrs:{cols:"3"}},[a("b-icon-blank")],1)],2)})),a("hr",{staticStyle:{"border-color":"inherit"}}),a("b-row",[a("b-col",{staticStyle:{"text-align":"start"},attrs:{cols:"3"}},[a("h4",[a("strong",[e._v("What")])])])],1),e._l(e.table.what,(function(t){return a("b-row",{key:t.id},[a("b-col",{staticStyle:{"text-align":"start"},attrs:{cols:"3"}},[e._v(e._s(t.name))]),e._l(t.players,(function(t){return a("b-col",{key:t.pos,attrs:{cols:"1"}},[" "===t.value?a("div",[a("b-icon-square")],1):"/"===t.value?a("div",[a("b-icon-square-fill",{attrs:{variant:"danger"}})],1):"O"===t.value?a("div",[a("b-icon-square-fill",{attrs:{variant:"success"}})],1):e._e()])})),t.isTheOne?a("b-col",{attrs:{cols:"3"}},[a("b-icon-star-fill",{attrs:{variant:"warning"}})],1):a("b-col",{attrs:{cols:"3"}},[a("b-icon-blank")],1)],2)})),a("hr",{staticStyle:{"border-color":"inherit"}}),a("b-row",[a("b-col",{staticStyle:{"text-align":"start"},attrs:{cols:"3"}},[a("h4",[a("strong",[e._v("Where")])])])],1),e._l(e.table.where,(function(t){return a("b-row",{key:t.id},[a("b-col",{staticStyle:{"text-align":"start"},attrs:{cols:"3"}},[e._v(e._s(t.name))]),e._l(t.players,(function(t){return a("b-col",{key:t.pos,attrs:{cols:"1"}},[" "===t.value?a("div",[a("b-icon-square")],1):"/"===t.value?a("div",[a("b-icon-square-fill",{attrs:{variant:"danger"}})],1):"O"===t.value?a("div",[a("b-icon-square-fill",{attrs:{variant:"success"}})],1):e._e()])})),t.isTheOne?a("b-col",{attrs:{cols:"3"}},[a("b-icon-star-fill",{attrs:{variant:"warning"}})],1):a("b-col",{attrs:{cols:"3"}},[a("b-icon-blank")],1)],2)}))],2)},h=[],u={name:"Table",props:{table:Object,players:Array}},d=u,b=a("2877"),p=Object(b["a"])(d,c,h,!1,null,"7612affa",null),v=p.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-modal",{attrs:{centered:"",size:"lg",id:"addRumourModal","ok-only":"","ok-title":"Back","ok-variant":"secondary",title:"Add a rumour"},on:{change:function(t){e.isBtnActive=!0}}},[a("b-row",[a("b-col",[a("p",[e._v("Who")]),a("b-form-select",{attrs:{id:"whoRumourSelect",options:e.characters},model:{value:e.activeWho,callback:function(t){e.activeWho=t},expression:"activeWho"}})],1),a("b-col",[a("p",[e._v("What")]),a("b-form-select",{attrs:{id:"whatRumourSelect",options:e.weapons},model:{value:e.activeWhat,callback:function(t){e.activeWhat=t},expression:"activeWhat"}})],1),a("b-col",[a("p",[e._v("Where")]),a("b-form-select",{attrs:{id:"whereRumourSelect",options:e.rooms},model:{value:e.activeWhere,callback:function(t){e.activeWhere=t},expression:"activeWhere"}})],1)],1),a("br"),a("b-row",[a("b-col",[a("p",[e._v("Which player answered?")]),a("b-form-select",{attrs:{id:"playerWhoAnsweredSelect",options:e.options},model:{value:e.selectedOption,callback:function(t){e.selectedOption=t},expression:"selectedOption"}})],1)],1),a("br"),a("b-row",[a("b-col",[a("b-button",{attrs:{id:"addRumourBtn",variant:"info",pill:"",block:"",disabled:!e.isBtnActive},on:{click:e.addRumour}},[e._v(" Add ")])],1)],1)],1)},f=[],y={name:"AddRumourModal",props:{table:Object,players:Array},data:function(){return{characters:o,weapons:n,rooms:l,options:[],selectedOption:-1,isBtnActive:!0,activeWho:o[0].value,activeWhat:n[0].value,activeWhere:l[0].value}},mounted:function(){this.options=[{text:"No one",value:-1}];for(var e=0;e<this.players.length;e++)this.options.push({text:this.players[e].name,value:this.players[e].position})},methods:{addRumour:function(){var e,t,a;this.isBtnActive=!1;for(var r=0;r<this.table.who.length;r++)this.activeWho.name===this.table.who[r].name&&(e=this.table.who[r].id);for(var s=0;s<this.table.what.length;s++)this.activeWhat.name===this.table.what[s].name&&(t=this.table.what[s].id);for(var i=0;i<this.table.where.length;i++)this.activeWhere.name===this.table.where[i].name&&(a=this.table.where[i].id);var o={cards:[e,t,a],isFinished:!1,playerWhoAnswered:this.selectedOption};this.$emit("add-rumour",o)}}},w=y,g=Object(b["a"])(w,m,f,!1,null,"6d940644",null),P=g.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-modal",{attrs:{id:"assignCardsModal",centered:"","ok-only":"","ok-title":"Back","ok-variant":"secondary",title:"Assign some cards"}},[a("p",[e._v("Select the type of card")]),a("b-tabs",{attrs:{id:"assignCardTabs","content-class":"mt-3"},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[a("b-tab",{attrs:{id:"whoTab",title:"Who",active:""}},[a("p",[e._v("Which character card do they have?")]),a("b-form-select",{attrs:{id:"whoCardSelect",options:e.characters},model:{value:e.activeWho,callback:function(t){e.activeWho=t},expression:"activeWho"}})],1),a("b-tab",{attrs:{id:"whatTab",title:"What"}},[a("p",[e._v("Which weapon card do they have?")]),a("b-form-select",{attrs:{id:"whatCardSelect",options:e.weapons},model:{value:e.activeWhat,callback:function(t){e.activeWhat=t},expression:"activeWhat"}})],1),a("b-tab",{attrs:{id:"whereTab",title:"Where"}},[a("p",[e._v("Which location card do they have?")]),a("b-form-select",{attrs:{id:"whereCardSelect",options:e.rooms},model:{value:e.activeWhere,callback:function(t){e.activeWhere=t},expression:"activeWhere"}})],1)],1),a("br"),a("b-row",[a("b-col",[a("p",[e._v("Which player has this card?")]),a("b-form-select",{attrs:{id:"playerAssigningSelect",options:e.options},model:{value:e.selectedOption,callback:function(t){e.selectedOption=t},expression:"selectedOption"}})],1)],1),a("br"),a("b-button",{attrs:{id:"assignCardBtn",variant:"info",block:"",pill:"",disabled:!e.isBtnActive},on:{click:e.assignCard}},[e._v(" Assign Card ")])],1)},x=[],O={name:"AssignCardsModal",props:{table:Object,players:Array},data:function(){return{characters:o,weapons:n,rooms:l,options:[],selectedOption:0,isBtnActive:!0,activeWho:o[0].value,activeWhat:n[0].value,activeWhere:l[0].value,tabIndex:0}},mounted:function(){this.options=[{text:"No one, and this isn't the answer",value:0}];for(var e=0;e<this.players.length;e++)this.options.push({text:this.players[e].name,value:this.players[e].position})},methods:{assignCard:function(){var e,t,a,r=this;this.isBtnActive=!1,0===this.tabIndex?(t=this.table.who,a=this.activeWho):1===this.tabIndex?(t=this.table.what,a=this.activeWhat):(t=this.table.where,a=this.activeWhere);for(var s=0;s<t.length;s++)a.name===t[s].name&&(e=t[s]);this.$emit("assign-card",{card:e,playerPos:this.selectedOption}),setTimeout((function(){return r.isBtnActive=!0}),1e3)}}},k=O,W=Object(b["a"])(k,_,x,!1,null,"19ec9e2e",null),C=W.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[null===e.falsifier?a("p",[e._v("Rumour by "),a("strong",{style:"background-color: "+e.caster.character.colour},[e._v(e._s(e.caster.name)+" ")]),e._v(", no one answered.")]):a("p",[e._v("Rumour by "),a("strong",{style:"background-color: "+e.caster.character.colour},[e._v(e._s(e.caster.name)+" ")]),e._v(", answered by "),a("strong",{style:"background-color: "+e.falsifier.character.colour},[e._v(e._s(e.falsifier.name)+" ")]),e._v(".")]),a("b-row",[a("b-col",[a("cluedx-card",{attrs:{players:e.players,card:e.findCard(e.rumour.cards[0],e.table.who)}})],1),a("b-col",[a("cluedx-card",{attrs:{players:e.players,card:e.findCard(e.rumour.cards[1],e.table.what)}})],1),a("b-col",[a("cluedx-card",{attrs:{players:e.players,card:e.findCard(e.rumour.cards[2],e.table.where)}})],1)],1)],1)},S=[],R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",{style:"background-color: "+e.colour,attrs:{align:"center","border-variant":"secondary"}},[a("b-row",[a("b-col",[e._v(" "+e._s(e.card.name)+" "),e.card.isTheOne?a("b-icon-star-fill",{attrs:{variant:"warning"}}):e.card.isFound?a("b-icon-x"):a("b-icon-blank")],1)],1)],1)},T=[],M={name:"CluedxCard",props:{card:Object,players:Array},data:function(){return{colour:"whitesmoke"}},mounted:function(){this.findColour()},methods:{findColour:function(){for(var e=0;e<this.card.players.length;e++)"O"===this.card.players[e].value&&(this.colour=this.players[e].character.colour)}}},B=M,j=Object(b["a"])(B,R,T,!1,null,"257d2889",null),F=j.exports,I={name:"ViewRumour",components:{CluedxCard:F},props:{table:Object,players:Array,rumour:Object},data:function(){return{who:{name:"",id:null,isTheOne:!1,isFound:!1,players:[]},what:{name:"",id:null,isTheOne:!1,isFound:!1,players:[]},where:{name:"",id:null,isTheOne:!1,isFound:!1,players:[]},caster:{name:"",position:1,isMe:!1,character:o[0].value,cards:[]},falsifier:null}},mounted:function(){this.who=this.findCard(this.rumour.cards[0],this.table.who),this.what=this.findCard(this.rumour.cards[1],this.table.what),this.where=this.findCard(this.rumour.cards[2],this.table.where),this.caster=this.players[this.rumour.playerPosition-1],this.rumour.playerWhoAnswered>0&&(this.falsifier=this.players[this.rumour.playerWhoAnswered-1])},methods:{findCard:function(e,t){for(var a=0;a<t.length;a++)if(e===t[a].id)return t[a]}}},N=I,$=Object(b["a"])(N,A,S,!1,null,"5383039a",null),q=$.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card-group",{staticStyle:{"column-count":"3"},attrs:{columns:""}},e._l(e.players,(function(t){return a("b-card",{key:t.position,style:"background-color: "+t.character.colour,attrs:{"no-body":"","border-variant":"secondary"}},[a("b-card-header",[a("b-badge",{attrs:{pill:"",variant:"warning"}},[e._v(e._s(t.position))]),a("b-badge",[e._v(e._s(t.cards.length)+"/"+e._s(e.cardsPerPerson))]),a("br"),a("h3",[e._v(e._s(t.name))])],1),a("b-list-group",{attrs:{flush:""}},e._l(t.cards,(function(t){return a("b-list-group-item",{key:t.id,staticStyle:{"background-color":"inherit","border-color":"inherit"}},[e._v(" "+e._s(t.name)+" ")])})),1)],1)})),1)},E=[],L=(a("a9e3"),{name:"ViewPlayers",props:{players:Array,cardsPerPerson:Number}}),D=L,V=Object(b["a"])(D,U,E,!1,null,"331f080f",null),z=V.exports,G={name:"App",components:{ViewPlayers:z,ViewRumour:q,AssignCardsModal:C,AddRumourModal:P,Table:v},data:function(){return{characters:o,weapons:n,rooms:l,isSetUp:!1,isSolved:!1,isBtnActive:!0,success:!1,fail:!1,numberOfPlayers:2,cardsPerPerson:8,numberOfCards:19,myPosition:"",activePlayerPosition:0,activePlayerName:"",activeWho:o[0].value,activeWhat:n[0].value,activeWhere:l[0].value,solution:[],nextId:0,nextPosition:3,rumours:[{cards:[],isFinished:!1,playerPosition:null,playerWhoAnswered:null}],table:{who:[{name:"",id:null,isTheOne:!1,isFound:!1,players:[]}],what:[{name:"",id:null,isTheOne:!1,isFound:!1,players:[]}],where:[{name:"",id:null,isTheOne:!1,isFound:!1,players:[]}]},players:[{name:"",position:1,isMe:!1,character:o[0].value,cards:[]}]}},mounted:function(){this.rumours=[],this.players.push({name:"",position:2,isMe:!1,character:o[1].value,cards:[]}),this.table.who=[],this.table.what=[],this.table.where=[]},watch:{numberOfPlayers:function(){this.cardsPerPerson=Math.floor(16/this.numberOfPlayers)}},methods:{contradiction:function(e){console.log("Contradiction detected:",e)},getCard:function(e){for(var t=0;t<this.table.who.length;t++)if(this.table.who[t].id===e)return this.table.who[t];for(var a=0;a<this.table.what.length;a++)if(this.table.what[a].id===e)return this.table.what[a];for(var r=0;r<this.table.where.length;r++)if(this.table.where[r].id===e)return this.table.where[r]},setCard:function(e,t){for(var a=0;a<this.table.who.length;a++)this.table.who[a].id===e&&(this.table.who[a]=t);for(var r=0;r<this.table.what.length;r++)this.table.what[r].id===e&&(this.table.what[r]=t);for(var s=0;s<this.table.where.length;s++)this.table.where[s].id===e&&(this.table.where[s]=t)},processPlayers:function(){for(var e=this,t=!1,a=function(a){var r=e.players[a-1],s=e.table.who.concat(e.table.what).concat(e.table.where);if(s=s.filter((function(e){return"/"!==e.players[a-1].value})),s.length<=e.cardsPerPerson)for(var i=0;i<s.length;i++)" "===s[i].players[a-1].value&&(r.cards.push(s[i]),e.giveCard(s[i],a),t=!0);if(r.cards.length===e.cardsPerPerson)for(var o=0;o<e.numberOfCards;o++){var n=e.getCard(o);" "===n.players[a-1].value&&(n.players[a-1].value="/",t=!0,e.setCard(o,n))}e.players[a-1]=r},r=1;r<=this.numberOfPlayers;r++)a(r);return t},processIsTheOne:function(e){var t=!1,a=e.filter((function(e){return e.isTheOne})).length>=1,r=e.filter((function(e){return!e.isFound||e.isTheOne}));if(1!==r.length||a||(r[0].isTheOne=!0,this.giveCard(r[0],0),t=!0),r.length>1&&!a)for(var s=0;s<r.length;s++){for(var i=!0,o=0;o<this.numberOfPlayers;o++)"/"!==r[s].players[o].value&&(i=!1);if(i&&!r[s].isFound){r[s].isTheOne=!0,this.giveCard(r[s],0),t=!0;break}}return t},processCards:function(){var e=!1;return this.processIsTheOne(this.table.who)&&(e=!0),this.processIsTheOne(this.table.what)&&(e=!0),this.processIsTheOne(this.table.where)&&(e=!0),e},processRumours:function(){for(var e=!1,t=0;t<this.rumours.length;t++){var a=this.rumours[t],r=[];if(!a.isFinished){var s=this.getCard(a.cards[0]),i=this.getCard(a.cards[1]),o=this.getCard(a.cards[2]);" "===s.players[a.playerWhoAnswered-1].value?r.push(s):"O"===s.players[a.playerWhoAnswered-1].value&&(a.isFinished=!0)," "===i.players[a.playerWhoAnswered-1].value?r.push(i):"O"===i.players[a.playerWhoAnswered-1].value&&(a.isFinished=!0)," "===o.players[a.playerWhoAnswered-1].value?r.push(o):"O"===o.players[a.playerWhoAnswered-1].value&&(a.isFinished=!0),a.isFinished||0!==r.length?a.isFinished||1!==r.length||(e=!0,this.players[a.playerWhoAnswered-1].cards.push(r[0]),this.giveCard(r[0],a.playerWhoAnswered)):this.contradiction("rumour (".concat(s.name,", ").concat(i.name,", ").concat(o.name,") ")+'asked by "'.concat(this.players[a.playerPosition-1].name,'" and answered by "')+"".concat(this.players[a.playerWhoAnswered-1].name,'". "')+"".concat(this.players[a.playerWhoAnswered-1].name,"\" can't have any of the give cards!")),this.rumours[t]=a}}return e},processLogic:function(){var e=!0;while(e)console.log("Processing logic"),e=this.processPlayers(),this.processCards()&&(e=!0),this.processRumours()&&(e=!0)},ackDontHave:function(e){var t=this.getCard(e.cards[0]),a=this.getCard(e.cards[1]),r=this.getCard(e.cards[2]),s=e.playerPosition%this.numberOfPlayers;while(e.playerWhoAnswered>0&&s!==e.playerWhoAnswered-1||e.playerWhoAnswered<=-1&&s!==e.playerPosition-1)t.players[s].value="/",a.players[s].value="/",r.players[s].value="/",s=(s+1)%this.numberOfPlayers;this.setCard(e.cards[0],t),this.setCard(e.cards[1],a),this.setCard(e.cards[2],r),this.processLogic()},addRumour:function(e){e.playerPosition=this.activePlayerPosition,e.id=this.nextId++,e.isFinished=-1===e.playerWhoAnswered,this.rumours.splice(0,0,e),this.ackDontHave(e)},assignCard:function(e){e.card.isFound||e.card.isTheOne?console.log("Card "+e.card.name+" is already found"):(0!==e.playerPos&&this.players[e.playerPos-1].cards.push(e.card),this.giveCard(e.card,e.playerPos),this.processLogic())},giveCard:function(e,t){for(var a=[],r=1;r<=this.numberOfPlayers;r++)a[r-1]={value:"/",pos:r};0!==t&&(a[t-1].value="O");for(var s=0;s<this.table.who.length;s++)this.table.who[s].id===e.id&&(this.table.who[s].isFound=!0,this.table.who[s].players=a);for(var i=0;i<this.table.what.length;i++)this.table.what[i].id===e.id&&(this.table.what[i].isFound=!0,this.table.what[i].players=a);for(var o=0;o<this.table.where.length;o++)this.table.where[o].id===e.id&&(this.table.where[o].isFound=!0,this.table.where[o].players=a)},nextPlayer:function(){var e=this;this.isBtnActive=!1,this.activePlayerPosition++,this.activePlayerPosition>this.numberOfPlayers&&(this.activePlayerPosition=1),this.activePlayerName=this.players[this.activePlayerPosition-1].name,setTimeout((function(){e.isBtnActive=!0}),1e3)},addPlayer:function(){var e=this.freeCharacter();this.players.push({name:"",position:this.nextPosition,isMe:!1,character:e,cards:[]}),this.nextPosition++,this.numberOfPlayers++},removePlayer:function(e){for(var t=e-1;t<this.players.length;t++)this.players[t].position--;this.players.splice(e-1,1),this.nextPosition--,this.numberOfPlayers--},freeCharacter:function(){for(var e,t,a,r=0;r<o.length;r++){e=o[r].value,a=!1;for(var s=0;s<this.players.length;s++)if(t=this.players[s],t.character.name===e.name){a=!0;break}if(!a)return e}return e={name:"No characters left",colour:"No characters left"},e},validatePlayers:function(){for(var e=o,t=0;t<e.length;t++){e[t].count=0;for(var a=0;a<this.players.length;a++)e[t].value.name===this.players[a].character.name&&(e[t].count+=1);if(e[t].count>1)return!1}return!0},setUpCards:function(e){for(var t,a=[],r=0;r<e.length;r++){t={name:e[r].value.name,id:this.nextId,isTheOne:!1,isFound:!1,players:[]};for(var s=1;s<=this.numberOfPlayers;s++)t.players[s-1]={value:" ",pos:s};a.push(t),this.nextId++}return a},setUp:function(){this.validatePlayers()&&(this.isSetUp=!0,this.table.who=this.setUpCards(this.characters),this.table.what=this.setUpCards(this.weapons),this.table.where=this.setUpCards(this.rooms),this.nextPlayer())}}},H=G,J=(a("034f"),Object(b["a"])(H,s,i,!1,null,null,null)),K=J.exports,Q=a("5f5b"),X=a("b1e0");a("f9e3");r["default"].config.productionTip=!1,r["default"].use(Q["a"]),r["default"].use(X["a"]),new r["default"]({render:function(e){return e(K)}}).$mount("#app")},"85ec":function(e,t,a){}});
//# sourceMappingURL=app.8691361a.js.map